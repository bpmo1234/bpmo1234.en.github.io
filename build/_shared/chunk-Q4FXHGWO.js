import{c as m,d,i as I}from"/build/_shared/chunk-4LJTPU4C.js";import{a as N}from"/build/_shared/chunk-QLU6BERC.js";import{f as A}from"/build/_shared/chunk-JEBMXGTI.js";var e=A(N(),1);function y(s){let a=s+"CollectionProvider",[$,E]=I(a),[h,f]=$(a,{collectionRef:{current:null},itemMap:new Map}),p=r=>{let{scope:t,children:l}=r,o=e.default.useRef(null),c=e.default.useRef(new Map).current;return e.default.createElement(h,{scope:t,itemMap:c,collectionRef:o},l)},u=s+"CollectionSlot",C=e.default.forwardRef((r,t)=>{let{scope:l,children:o}=r,c=f(u,l),n=m(t,c.collectionRef);return e.default.createElement(d,{ref:n},o)}),R=s+"CollectionItemSlot",M="data-radix-collection-item",S=e.default.forwardRef((r,t)=>{let{scope:l,children:o,...c}=r,n=e.default.useRef(null),x=m(t,n),i=f(R,l);return e.default.useEffect(()=>(i.itemMap.set(n,{ref:n,...c}),()=>void i.itemMap.delete(n))),e.default.createElement(d,{[M]:"",ref:x},o)});function v(r){let t=f(s+"CollectionConsumer",r);return e.default.useCallback(()=>{let o=t.collectionRef.current;if(!o)return[];let c=Array.from(o.querySelectorAll(`[${M}]`));return Array.from(t.itemMap.values()).sort((i,O)=>c.indexOf(i.ref.current)-c.indexOf(O.ref.current))},[t.collectionRef,t.itemMap])}return[{Provider:p,Slot:C,ItemSlot:S},v,E]}export{y as a};
