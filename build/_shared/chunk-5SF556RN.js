import{b as O,c as E}from"/build/_shared/chunk-3OEQ7K3T.js";import{A,oa as T,ua as k}from"/build/_shared/chunk-WQT5KMCO.js";import{a as S,b as D}from"/build/_shared/chunk-QLU6BERC.js";import{f as v}from"/build/_shared/chunk-JEBMXGTI.js";var m=v(S(),1);function P(i){return null}P.getCollectionNode=function*(e,t){let{childItems:r,title:o,children:n}=e,l=e.title||e.children,a=e.textValue||(typeof l=="string"?l:"")||e["aria-label"]||"";!a&&!t?.suppressTextValueWarning&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:l,textValue:a,"aria-label":e["aria-label"],hasChildNodes:W(e),*childNodes(){if(r)for(let s of r)yield{type:"item",value:s};else if(o){let s=[];m.default.Children.forEach(n,u=>{s.push({type:"item",element:u})}),yield*s}}}};function W(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&m.default.Children.count(i.children)>0)}var U=P;function _(i){return null}_.getCollectionNode=function*(e){let{children:t,title:r,items:o}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!o)throw new Error("props.children was a function but props.items is missing");for(let n of o)yield{type:"item",value:n,renderer:t}}else{let n=[];m.default.Children.forEach(t,l=>{n.push({type:"item",element:l})}),yield*n}}}};var I=class{build(e,t){return this.context=t,R(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:r}=e;if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let o of e.items)yield*this.getFullNode({value:o},{renderer:t})}else{let o=[];m.default.Children.forEach(t,l=>{o.push(l)});let n=0;for(let l of o){let a=this.getFullNode({element:l,index:n},{});for(let s of a)n++,yield s}}}getKey(e,t,r,o){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${o}${t.key}`;let n=t.value;if(n!=null){var l;let a=(l=n.key)!==null&&l!==void 0?l:n.id;if(a==null)throw new Error("No key found for item");return a}return o?`${o}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,r,o){let n=e.element;if(!n&&e.value&&t&&t.renderer){let s=this.cache.get(e.value);if(s&&(!s.shouldInvalidate||!s.shouldInvalidate(this.context))){s.index=e.index,s.parentKey=o?o.key:null,yield s;return}n=t.renderer(e.value)}if(m.default.isValidElement(n)){let s=n.type;if(typeof s!="function"&&typeof s.getCollectionNode!="function"){let f=typeof n.type=="function"?n.type.name:n.type;throw new Error(`Unknown element <${f}> in collection.`)}let u=s.getCollectionNode(n.props,this.context),d=e.index,p=u.next();for(;!p.done&&p.value;){let f=p.value;e.index=d;let g=f.key;g||(g=f.element?null:this.getKey(n,e,t,r));let x=[...this.getFullNode({...f,key:g,index:d,wrapper:M(e.wrapper,f.wrapper)},this.getChildState(t,f),r?`${r}${n.key}`:n.key,o)];for(let h of x){if(h.value=f.value||e.value,h.value&&this.cache.set(h.value,h),e.type&&h.type!==e.type)throw new Error(`Unsupported type <${b(h.type)}> in <${b(o.type)}>. Only <${b(e.type)}> is supported.`);d++,yield h}p=u.next(x)}return}if(e.key==null)return;let l=this,a={type:e.type,props:e.props,key:e.key,parentKey:o?o.key:null,value:e.value,level:o?o.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:R(function*(){if(!e.hasChildNodes)return;let s=0;for(let u of e.childNodes()){u.key!=null&&(u.key=`${a.key}${u.key}`),u.index=s;let d=l.getFullNode(u,l.getChildState(t,u),a.key,a);for(let p of d)s++,yield p}})};yield a}constructor(){A(this,"cache",new WeakMap)}};function R(i){let e=[],t=null;return{*[Symbol.iterator](){for(let r of e)yield r;t||(t=i());for(let r of t)e.push(r),yield r}}}function M(i,e){if(i&&e)return t=>i(e(t));if(i)return i;if(e)return e}function b(i){return i[0].toUpperCase()+i.slice(1)}function J(i,e,t){let r=(0,m.useMemo)(()=>new I,[]),{children:o,items:n,collection:l}=i;return(0,m.useMemo)(()=>{if(l)return l;let s=r.build({children:o,items:n},t);return e(s)},[r,o,n,l,t,e])}function Q(i,e){return typeof e.getChildren=="function"?e.getChildren(i.key):i.childNodes}function Z(i){return K(i,0)}function K(i,e){if(e<0)return;let t=0;for(let r of i){if(t===e)return r;t++}}function ee(i,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let r=N(i,e),o=N(i,t),n=r.slice(0,o.length).findIndex((l,a)=>l!==o[a]);return n!==-1?(e=r[n],t=o[n],e.index-t.index):-1}function N(i,e){let t=[];for(;e?.parentKey!=null;)e=i.getItem(e.parentKey),t.unshift(e);return t}var L=i=>{let e={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return e?.[i]||{}},H=i=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[i];var B=(i,e)=>{if(e.includes("-")){let[,t]=e.split("-");return`${i}-${t}`}return i};var c={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],softSpring:[.16,1.11,.3,1.02]},G={scaleSpring:{enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.3,ease:c.spring}}},exit:{scale:.6,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleInOut:{enter:{scale:1,opacity:1,transition:{duration:.4,ease:c.ease}},exit:{scale:1.03,opacity:0,transition:{duration:.3,ease:c.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:c.ease}},exit:{opacity:0,transition:{duration:.3,ease:c.ease}}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};var j={enter:{duration:.2,ease:c.easeOut},exit:{duration:.1,ease:c.easeIn}},$={enter:(i,e)=>({...i,delay:typeof e=="number"?e:e?.enter}),exit:(i,e)=>({...i,delay:typeof e=="number"?e:e?.exit})};var y=v(S(),1),w=v(D(),1),Y={exit:{height:{duration:.2,ease:c.ease},opacity:{duration:.3,ease:c.ease}},enter:{height:{duration:.3,ease:c.ease},opacity:{duration:.4,ease:c.ease}}},z={enter:({animateOpacity:i,endingHeight:e,transition:t,transitionEnd:r,delay:o})=>{var n;return{...i&&{opacity:1},height:e,transitionEnd:r?.enter,transition:(n=t?.enter)!=null?n:$.enter(Y.enter,o)}},exit:({animateOpacity:i,startingHeight:e,transition:t,transitionEnd:r,delay:o})=>{var n;return{...i&&{opacity:k(e)?1:0},height:e,transitionEnd:r?.exit,transition:(n=t?.exit)!=null?n:$.exit(Y.exit,o)}}},F=(0,y.forwardRef)((i,e)=>{let{in:t,unmountOnExit:r,animateOpacity:o=!0,startingHeight:n=0,endingHeight:l="auto",style:a,className:s,transition:u,transitionEnd:d,...p}=i,[f,g]=(0,y.useState)(!1);(0,y.useEffect)(()=>{let X=setTimeout(()=>{g(!0)});return()=>clearTimeout(X)},[]),Boolean(n>0&&r)&&T("startingHeight and unmountOnExit are mutually exclusive. You can't use them together","FramerTransitions - Collapse");let C=parseFloat(n.toString())>0,x={startingHeight:n,endingHeight:l,animateOpacity:o,transition:f?u:{enter:{duration:0}},transitionEnd:{enter:d?.enter,exit:r?d?.exit:{...d?.exit,display:C?"block":"none"}}},h=r?t:!0,V=t||r?"enter":"exit";return(0,w.jsx)(E,{custom:x,initial:!1,children:h&&(0,w.jsx)(O.div,{ref:e,...p,animate:V,className:s,custom:x,exit:"exit",initial:r?"exit":!1,style:{overflow:"hidden",display:"block",...a},variants:z})})});F.displayName="NextUI.CollapseTransition";export{U as a,J as b,Q as c,Z as d,ee as e,L as f,H as g,B as h,G as i,F as j};
