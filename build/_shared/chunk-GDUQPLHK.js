import{a as et,b as tt,c as st,d as lt,e as ue,j as ot}from"/build/_shared/chunk-5SF556RN.js";import{d as _e}from"/build/_shared/chunk-3OEQ7K3T.js";import{f as ve}from"/build/_shared/chunk-VRDZAOTH.js";import{$ as Xe,A as Ue,B as ze,D as Ve,E as ie,K as me,L,M as ne,N as ge,P as Ke,Q as ke,R as We,S as je,T as be,U as He,V as te,X as Qe,Y as qe,Z as re,_ as Ye,aa as Ge,ga as ae,ia as Ze,ka as ce,na as Je,pa as Se,q as Ne,r as Le,ta as P}from"/build/_shared/chunk-WQT5KMCO.js";import{a as G,b as Re}from"/build/_shared/chunk-QLU6BERC.js";import{f as k}from"/build/_shared/chunk-JEBMXGTI.js";var[it,nt]=Ze({name:"AccordionContext",strict:!0,errorMessage:"useAccordionContext: `context` is undefined. Seems you forgot to wrap component within the Provider"});var H=k(G(),1);function rt(i,e){let{elementType:t="button",isDisabled:s,onPress:l,onPressStart:o,onPressEnd:n,onPressChange:c,preventFocusOnPress:u,allowFocusWhenDisabled:v,onClick:m,href:p,target:g,rel:r,type:S="button"}=i,h;t==="button"?h={type:S,disabled:s}:h={role:"button",tabIndex:s?void 0:0,href:t==="a"&&s?void 0:p,target:t==="a"?g:void 0,type:t==="input"?S:void 0,disabled:t==="input"?s:void 0,"aria-disabled":!s||t==="input"?void 0:s,rel:t==="a"?r:void 0};let{pressProps:w,isPressed:$}=te({onPressStart:o,onPressEnd:n,onPressChange:c,onPress:l,isDisabled:s,preventFocusOnPress:u,ref:e}),{focusableProps:f}=Ge(i,e);v&&(f.tabIndex=s?-1:f.tabIndex);let y=L(f,w,ne(i,{labelable:!0}));return{isPressed:$,buttonProps:L(h,y,{"aria-haspopup":i["aria-haspopup"],"aria-expanded":i["aria-expanded"],"aria-controls":i["aria-controls"],"aria-pressed":i["aria-pressed"],onClick:D=>{m&&(m(D),console.warn("onClick is deprecated, please use onPress"))}})}}function at(i,e,t){let{item:s,isDisabled:l}=i,o=s.key,n=e.selectionManager,c=(0,H.useId)(),u=(0,H.useId)(),v=e.disabledKeys.has(s.key)||l;(0,H.useEffect)(()=>{o===e.focusedKey&&document.activeElement!==t.current&&t.current&&re(t.current)},[t,o,e.focusedKey]);let m=(0,H.useCallback)(h=>{n.canSelectItem(o)&&(n.select(o,h),e.toggleKey(o))},[o,n]),p=(0,H.useCallback)(h=>{n.selectionBehavior==="replace"&&n.extendSelection(h),n.setFocusedKey(h)},[n]),g=(0,H.useCallback)(h=>{let $={ArrowDown:()=>{let f=e.collection.getKeyAfter(o);if(f&&e.disabledKeys.has(f)){let y=e.collection.getKeyAfter(f);y&&p(y)}else f&&p(f)},ArrowUp:()=>{let f=e.collection.getKeyBefore(o);if(f&&e.disabledKeys.has(f)){let y=e.collection.getKeyBefore(f);y&&p(y)}else f&&p(f)},Home:()=>{let f=e.collection.getFirstKey();f&&p(f)},End:()=>{let f=e.collection.getLastKey();f&&p(f)}}[h.key];$&&(h.preventDefault(),n.canSelectItem(o)&&$(h))},[o,n]),{buttonProps:r}=rt({id:c,elementType:"button",isDisabled:v,onKeyDown:g,onPress:m},t),S=e.selectionManager.isSelected(s.key);return{buttonProps:{...r,"aria-expanded":S,"aria-controls":S?u:void 0},regionProps:{id:u,role:"region","aria-labelledby":c}}}var W=k(G(),1);function ct(i){var e,t,s,l,o,n,c;let u=nt(),{ref:v,as:m,item:p,onFocusChange:g}=i,{classNames:r,className:S,indicator:h,children:w,title:$,subtitle:f,startContent:y,motionProps:D=u?.motionProps,isCompact:U=(e=u?.isCompact)!=null?e:!1,isDisabled:z=(t=u?.isDisabled)!=null?t:!1,hideDivider:a=(s=u.hideDivider)!=null?s:!1,hideIndicator:K=(l=u.hideIndicator)!=null?l:!1,disableAnimation:T=(o=u.disableAnimation)!=null?o:!1,disableIndicatorAnimation:A=(n=u.disableIndicatorAnimation)!=null?n:!1,onPress:R,onPressStart:N,onPressEnd:q,onPressChange:Y,onPressUp:j,onClick:X,...d}=i,V=m||"div",F=ce(v),ee=u?.state,b=ee.disabledKeys.has(p.key)||z||u?.isDisabled,I=ee.selectionManager.isSelected(p.key),{buttonProps:fe,regionProps:B}=at({item:p,isDisabled:b},{...ee,focusedKey:u.focusedKey},F),{onFocus:J,onBlur:pe,...Ae}=fe,{isFocused:Ie,isFocusVisible:Fe,focusProps:he}=Xe({autoFocus:(c=p.props)==null?void 0:c.autoFocus}),{isHovered:Ce,hoverProps:xe}=qe({isDisabled:b}),{pressProps:ye,isPressed:Me}=te({ref:F,isDisabled:b,onPress:R,onPressStart:N,onPressEnd:q,onPressChange:Y,onPressUp:j}),De=()=>{g?.(!0)},Te=()=>{g?.(!1)},C=(0,W.useMemo)(()=>Le({isCompact:U,isDisabled:b,hideDivider:a,hideIndicator:K,disableAnimation:T,disableIndicatorAnimation:A}),[U,b,a,K,T,A]),Be=Je(S,r?.base),bt=(0,W.useCallback)((E={})=>({"data-open":P(I),"data-disabled":P(b),className:C.base({class:Be}),...L(ne(d,{labelable:!0}),E)}),[Be,d,C,p.props,I,b]),St=(0,W.useCallback)((E={})=>{var Ee,Oe;return{ref:F,"data-open":P(I),"data-focus":P(Ie),"data-focus-visible":P(Fe),"data-disabled":P(b),"data-hover":P(Ce),"data-pressed":P(Me),className:C.trigger({class:r?.trigger}),onFocus:Se(De,J,he.onFocus,d.onFocus,(Ee=p.props)==null?void 0:Ee.onFocus),onBlur:Se(Te,pe,he.onBlur,d.onBlur,(Oe=p.props)==null?void 0:Oe.onBlur),...L(Ae,xe,ye,E),onClick:me(ye.onClick,X)}},[F,C,I,Fe,Me,Ce,b,Ie,Ae,he,ye,xe,d,p.props,De,Te,r]),vt=(0,W.useCallback)((E={})=>({"data-open":P(I),"data-disabled":P(b),className:C.content({class:r?.content}),...L(B,E)}),[C,r,B,I,b]),Pt=(0,W.useCallback)((E={})=>({"aria-hidden":P(!0),"data-open":P(I),"data-disabled":P(b),className:C.indicator({class:r?.indicator}),...E}),[C,r,I,b]),$t=(0,W.useCallback)((E={})=>({"data-open":P(I),"data-disabled":P(b),className:C.heading({class:r?.heading}),...E}),[C,r,I,b]),wt=(0,W.useCallback)((E={})=>({"data-open":P(I),"data-disabled":P(b),className:C.title({class:r?.title}),...E}),[C,r,I,b]),At=(0,W.useCallback)((E={})=>({"data-open":P(I),"data-disabled":P(b),className:C.subtitle({class:r?.subtitle}),...E}),[C,r,I,b]);return{Component:V,item:p,slots:C,classNames:r,domRef:F,indicator:h,children:w,title:$,subtitle:f,startContent:y,isOpen:I,isDisabled:b,disableAnimation:T,motionProps:D,getBaseProps:bt,getHeadingProps:$t,getButtonProps:St,getContentProps:vt,getIndicatorProps:Pt,getTitleProps:wt,getSubtitleProps:At}}var Pe=k(G(),1);var x=k(Re(),1),ut=ae((i,e)=>{let{Component:t,classNames:s,slots:l,indicator:o,children:n,title:c,subtitle:u,startContent:v,isOpen:m,isDisabled:p,disableAnimation:g,motionProps:r,getBaseProps:S,getHeadingProps:h,getButtonProps:w,getTitleProps:$,getSubtitleProps:f,getContentProps:y,getIndicatorProps:D}=ct({ref:e,...i}),U=(0,Pe.useMemo)(()=>typeof o=="function"?o({indicator:(0,x.jsx)(ve,{}),isOpen:m,isDisabled:p}):o||(0,x.jsx)(ve,{}),[o,m,p]),z=(0,Pe.useMemo)(()=>g?(0,x.jsx)("div",{...y(),children:n}):(0,x.jsx)(ot,{in:m,...r,children:(0,x.jsx)("div",{...y(),children:n})}),[m,g,n,r]);return(0,x.jsxs)(t,{...S(),children:[(0,x.jsx)("h2",{...h(),children:(0,x.jsxs)("button",{...w(),children:[v&&(0,x.jsx)("div",{className:l.startContent({class:s?.startContent}),children:v}),(0,x.jsxs)("div",{className:l.titleWrapper({class:s?.titleWrapper}),children:[c&&(0,x.jsx)("span",{...$(),children:c}),u&&(0,x.jsx)("span",{...f(),children:u})]}),U&&(0,x.jsx)("span",{...D(),children:U})]})}),z]})});ut.displayName="NextUI.AccordionItem";var dt=ut;var Z=k(G(),1);var _=k(G(),1);var M=k(G(),1);var O=class extends Set{constructor(e,t,s){super(e),e instanceof O?(this.anchorKey=t||e.anchorKey,this.currentKey=s||e.currentKey):(this.anchorKey=t,this.currentKey=s)}};function It(i,e){if(i.size!==e.size)return!1;for(let t of i)if(!e.has(t))return!1;return!0}function pt(i){let{selectionMode:e="none",disallowEmptySelection:t,allowDuplicateSelectionEvents:s,selectionBehavior:l="toggle",disabledBehavior:o="all"}=i,n=(0,M.useRef)(!1),[,c]=(0,M.useState)(!1),u=(0,M.useRef)(null),v=(0,M.useRef)(null),[,m]=(0,M.useState)(null),p=(0,M.useMemo)(()=>ft(i.selectedKeys),[i.selectedKeys]),g=(0,M.useMemo)(()=>ft(i.defaultSelectedKeys,new O),[i.defaultSelectedKeys]),[r,S]=ie(p,g,i.onSelectionChange),h=(0,M.useMemo)(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),[w,$]=(0,M.useState)(l);l==="replace"&&w==="toggle"&&typeof r=="object"&&r.size===0&&$("replace");let f=(0,M.useRef)(l);return(0,M.useEffect)(()=>{l!==f.current&&($(l),f.current=l)},[l]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:w,setSelectionBehavior:$,get isFocused(){return n.current},setFocused(y){n.current=y,c(y)},get focusedKey(){return u.current},get childFocusStrategy(){return v.current},setFocusedKey(y,D="first"){u.current=y,v.current=D,m(y)},selectedKeys:r,setSelectedKeys(y){(s||!It(y,r))&&S(y)},disabledKeys:h,disabledBehavior:o}}function ft(i,e){return i?i==="all"?"all":new O(i):e}var de=class{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return this.state.selectionMode==="none"?!1:(e=this.getKey(e),this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(s=>t.has(s)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let s=this.collection.getItem(t);(!e||s&&ue(this.collection,s,e)<0)&&(e=s)}return e?.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let s=this.collection.getItem(t);(!e||s&&ue(this.collection,s,e)>0)&&(e=s)}return e?.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}e=this.getKey(e);let t;if(this.state.selectedKeys==="all")t=new O([e],e,e);else{let s=this.state.selectedKeys,l=s.anchorKey||e;t=new O(s,l,e);for(let o of this.getKeyRange(l,s.currentKey||e))t.delete(o);for(let o of this.getKeyRange(e,l))this.canSelectItem(o)&&t.add(o)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let s=this.collection.getItem(e),l=this.collection.getItem(t);return s&&l?ue(this.collection,s,l)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let s=[],l=e;for(;l;){let o=this.collection.getItem(l);if((o&&o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&s.push(l),l===t)return s;l=this.collection.getKeyAfter(l)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}if(e=this.getKey(e),e==null)return;let t=new O(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),!(this.disallowEmptySelection&&t.size===0)&&this.state.setSelectedKeys(t)}replaceSelection(e){if(this.selectionMode==="none"||(e=this.getKey(e),e==null))return;let t=this.canSelectItem(e)?new O([e],e,e):new O;this.state.setSelectedKeys(t)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new O;for(let s of e)if(s=this.getKey(s),s!=null&&(t.add(s),this.selectionMode==="single"))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=s=>{for(;s;){if(this.canSelectItem(s)){let l=this.collection.getItem(s);l.type==="item"&&e.push(s),l.hasChildNodes&&(this.allowsCellSelection||l.type!=="item")&&t(lt(st(l,this.collection)).key)}s=this.collection.getKeyAfter(s)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new O)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let s of e)if(!t.has(s))return!1;for(let s of t)if(!e.has(s))return!1;return!0}canSelectItem(e){if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let t=this.collection.getItem(e);return!(!t||t.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&this.state.disabledBehavior==="all"}constructor(e,t,s){this.collection=e,this.state=t;var l;this.allowsCellSelection=(l=s?.allowsCellSelection)!==null&&l!==void 0?l:!1,this._isSelectAll=null}};var Ft=Symbol.iterator,$e=class{*[Ft](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}constructor(e,{expandedKeys:t}={}){Ue(this,"keyMap",new Map),this.iterable=e,t=t||new Set;let s=n=>{if(this.keyMap.set(n.key,n),n.childNodes&&(n.type==="section"||t.has(n.key)))for(let c of n.childNodes)s(c)};for(let n of e)s(n);let l,o=0;for(let[n,c]of this.keyMap)l?(l.nextKey=n,c.prevKey=l.key):(this.firstKey=n,c.prevKey=void 0),c.type==="item"&&(c.index=o++),l=c,l.nextKey=void 0;this.lastKey=l?.key}};function ht(i){let[e,t]=ie(i.expandedKeys?new Set(i.expandedKeys):void 0,i.defaultExpandedKeys?new Set(i.defaultExpandedKeys):new Set,i.onExpandedChange),s=pt(i),l=(0,_.useMemo)(()=>i.disabledKeys?new Set(i.disabledKeys):new Set,[i.disabledKeys]),o=tt(i,(0,_.useCallback)(c=>new $e(c,{expandedKeys:e}),[e]),null);return(0,_.useEffect)(()=>{s.focusedKey!=null&&!o.getItem(s.focusedKey)&&s.setFocusedKey(null)},[o,s.focusedKey]),{collection:o,expandedKeys:e,disabledKeys:l,toggleKey:c=>{t(Ct(e,c))},selectionManager:new de(o,s)}}function Ct(i,e){let t=new Set(i);return t.has(e)?t.delete(e):t.add(e),t}var Q=k(G(),1);function xt(i){return We()?i.altKey:i.ctrlKey}function se(i){return ke()?i.metaKey:i.ctrlKey}var Mt=1e3;function Dt(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:s}=i,l=(0,Q.useRef)({search:"",timeout:null}).current,o=n=>{let c=Tt(n.key);if(!c||n.ctrlKey||n.metaKey||!n.currentTarget.contains(n.target))return;c===" "&&l.search.trim().length>0&&(n.preventDefault(),"continuePropagation"in n||n.stopPropagation()),l.search+=c;let u=e.getKeyForSearch(l.search,t.focusedKey);u==null&&(u=e.getKeyForSearch(l.search)),u!=null&&(t.setFocusedKey(u),s&&s(u)),clearTimeout(l.timeout),l.timeout=setTimeout(()=>{l.search=""},Mt)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?o:null}}}function Tt(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Bt(i){let{selectionManager:e,keyboardDelegate:t,ref:s,autoFocus:l=!1,shouldFocusWrap:o=!1,disallowEmptySelection:n=!1,disallowSelectAll:c=!1,selectOnFocus:u=e.selectionBehavior==="replace",disallowTypeAhead:v=!1,shouldUseVirtualFocus:m,allowsTabNavigation:p=!1,isVirtualized:g,scrollRef:r=s}=i,{direction:S}=ze(),h=a=>{if(a.altKey&&a.key==="Tab"&&a.preventDefault(),!s.current.contains(a.target))return;let K=(d,V)=>{d!=null&&(e.setFocusedKey(d,V),a.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):u&&!xt(a)&&e.replaceSelection(d))};switch(a.key){case"ArrowDown":if(t.getKeyBelow){var T,A;a.preventDefault();let d=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):(T=t.getFirstKey)===null||T===void 0?void 0:T.call(t);d==null&&o&&(d=(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t,e.focusedKey)),K(d)}break;case"ArrowUp":if(t.getKeyAbove){var R,N;a.preventDefault();let d=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):(R=t.getLastKey)===null||R===void 0?void 0:R.call(t);d==null&&o&&(d=(N=t.getLastKey)===null||N===void 0?void 0:N.call(t,e.focusedKey)),K(d)}break;case"ArrowLeft":if(t.getKeyLeftOf){var q,Y;a.preventDefault();let d=t.getKeyLeftOf(e.focusedKey);d==null&&o&&(d=S==="rtl"?(q=t.getFirstKey)===null||q===void 0?void 0:q.call(t,e.focusedKey):(Y=t.getLastKey)===null||Y===void 0?void 0:Y.call(t,e.focusedKey)),K(d,S==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var j,X;a.preventDefault();let d=t.getKeyRightOf(e.focusedKey);d==null&&o&&(d=S==="rtl"?(j=t.getLastKey)===null||j===void 0?void 0:j.call(t,e.focusedKey):(X=t.getFirstKey)===null||X===void 0?void 0:X.call(t,e.focusedKey)),K(d,S==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){a.preventDefault();let d=t.getFirstKey(e.focusedKey,se(a));e.setFocusedKey(d),se(a)&&a.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):u&&e.replaceSelection(d)}break;case"End":if(t.getLastKey){a.preventDefault();let d=t.getLastKey(e.focusedKey,se(a));e.setFocusedKey(d),se(a)&&a.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(d):u&&e.replaceSelection(d)}break;case"PageDown":if(t.getKeyPageBelow){a.preventDefault();let d=t.getKeyPageBelow(e.focusedKey);K(d)}break;case"PageUp":if(t.getKeyPageAbove){a.preventDefault();let d=t.getKeyPageAbove(e.focusedKey);K(d)}break;case"a":se(a)&&e.selectionMode==="multiple"&&c!==!0&&(a.preventDefault(),e.selectAll());break;case"Escape":a.preventDefault(),n||e.clearSelection();break;case"Tab":if(!p){if(a.shiftKey)s.current.focus();else{let d=Ye(s.current,{tabbable:!0}),V,F;do F=d.lastChild(),F&&(V=F);while(F);V&&!V.contains(document.activeElement)&&ge(V)}break}}},w=(0,Q.useRef)({top:0,left:0});je(r,"scroll",g?null:()=>{w.current={top:r.current.scrollTop,left:r.current.scrollLeft}});let $=a=>{if(e.isFocused){a.currentTarget.contains(a.target)||e.setFocused(!1);return}if(a.currentTarget.contains(a.target)){if(e.setFocused(!0),e.focusedKey==null){let A=N=>{N!=null&&(e.setFocusedKey(N),u&&e.replaceSelection(N))},R=a.relatedTarget;var K,T;R&&a.currentTarget.compareDocumentPosition(R)&Node.DOCUMENT_POSITION_FOLLOWING?A((K=e.lastSelectedKey)!==null&&K!==void 0?K:t.getLastKey()):A((T=e.firstSelectedKey)!==null&&T!==void 0?T:t.getFirstKey())}else g||(r.current.scrollTop=w.current.top,r.current.scrollLeft=w.current.left);if(!g&&e.focusedKey!=null){let A=r.current.querySelector(`[data-key="${e.focusedKey}"]`);A&&(ge(A),be(r.current,A))}}},f=a=>{a.currentTarget.contains(a.relatedTarget)||e.setFocused(!1)},y=(0,Q.useRef)(l);(0,Q.useEffect)(()=>{if(y.current){let a=null;l==="first"&&(a=t.getFirstKey()),l==="last"&&(a=t.getLastKey());let K=e.selectedKeys;K.size&&(a=K.values().next().value),e.setFocused(!0),e.setFocusedKey(a),a==null&&!m&&re(s.current)}y.current=!1},[]),(0,Q.useEffect)(()=>{let a=Qe();if(!g&&e.isFocused&&e.focusedKey!=null&&r?.current){let K=r.current.querySelector(`[data-key="${e.focusedKey}"]`);K&&(be(r.current,K),a==="keyboard"&&He(K,{containingElement:s.current}))}},[g,r,e.focusedKey,e.isFocused,s]);let D={onKeyDown:h,onFocus:$,onBlur:f,onMouseDown(a){r.current===a.target&&a.preventDefault()}},{typeSelectProps:U}=Dt({keyboardDelegate:t,selectionManager:e});v||(D=L(U,D));let z;return m||(z=e.focusedKey==null?0:-1),{collectionProps:{...D,tabIndex:z}}}var we=class{getKeyBelow(e){for(e=this.collection.getKeyAfter(e);e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getKeyAbove(e){for(e=this.collection.getKeyBefore(e);e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getKeyRightOf(e){return this.orientation==="horizontal"?this.direction==="rtl"?this.getKeyAbove(e):this.getKeyBelow(e):null}getKeyLeftOf(e){return this.orientation==="horizontal"?this.direction==="rtl"?this.getKeyBelow(e):this.getKeyAbove(e):null}getFirstKey(){let e=this.collection.getFirstKey();for(;e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;e!=null;){if(this.collection.getItem(e).type==="item"&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${e}"]`)}getKeyPageAbove(e){let t=this.ref.current,s=this.getItem(e);if(!s)return null;if(!Ke(t))return this.getFirstKey();let l=t.getBoundingClientRect(),o=s.getBoundingClientRect();if(this.orientation==="horizontal"){let n=l.x-t.scrollLeft,c=Math.max(0,o.x-n+o.width-l.width);for(;s&&o.x-n>c;)e=this.getKeyAbove(e),s=e==null?null:this.getItem(e),o=s?.getBoundingClientRect()}else{let n=l.y-t.scrollTop,c=Math.max(0,o.y-n+o.height-l.height);for(;s&&o.y-n>c;)e=this.getKeyAbove(e),s=e==null?null:this.getItem(e),o=s?.getBoundingClientRect()}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,s=this.getItem(e);if(!s)return null;if(!Ke(t))return this.getLastKey();let l=t.getBoundingClientRect(),o=s.getBoundingClientRect();if(this.orientation==="horizontal"){let n=l.x-t.scrollLeft,c=Math.min(t.scrollWidth,o.x-n-o.width+l.width);for(;s&&o.x-n<c;)e=this.getKeyBelow(e),s=e==null?null:this.getItem(e),o=s?.getBoundingClientRect()}else{let n=l.y-t.scrollTop,c=Math.min(t.scrollHeight,o.y-n-o.height+l.height);for(;s&&o.y-n<c;)e=this.getKeyBelow(e),s=e==null?null:this.getItem(e),o=s?.getBoundingClientRect()}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let s=this.collection,l=t||this.getFirstKey();for(;l!=null;){let o=s.getItem(l),n=o.textValue.slice(0,e.length);if(o.textValue&&this.collator.compare(n,e)===0)return l;l=this.getKeyBelow(l)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.disabledKeys=t.disabledKeys||new Set,this.orientation=t.orientation,this.direction=t.direction}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3]}};function yt(i){let{selectionManager:e,collection:t,disabledKeys:s,ref:l,keyboardDelegate:o,autoFocus:n,shouldFocusWrap:c,isVirtualized:u,disallowEmptySelection:v,selectOnFocus:m=e.selectionBehavior==="replace",disallowTypeAhead:p,shouldUseVirtualFocus:g,allowsTabNavigation:r}=i,S=Ve({usage:"search",sensitivity:"base"}),h=e.disabledBehavior,w=(0,Q.useMemo)(()=>o||new we(t,h==="selection"?new Set:s,l,S),[o,t,s,l,S,h]),{collectionProps:$}=Bt({ref:l,selectionManager:e,keyboardDelegate:w,autoFocus:n,shouldFocusWrap:c,disallowEmptySelection:v,selectOnFocus:m,disallowTypeAhead:p,shouldUseVirtualFocus:g,allowsTabNavigation:r,isVirtualized:u,scrollRef:l});return{listProps:$}}function mt(i,e,t){let{listProps:s}=yt({...i,...e,allowsTabNavigation:!0,ref:t});return{accordionProps:{...s,tabIndex:void 0}}}var le=k(G(),1);function gt(i){let{ref:e,as:t,children:s,className:l,items:o,variant:n,motionProps:c,expandedKeys:u,disabledKeys:v,selectedKeys:m,defaultExpandedKeys:p,selectionMode:g="single",selectionBehavior:r="toggle",disallowEmptySelection:S,defaultSelectedKeys:h,onExpandedChange:w,onSelectionChange:$,isCompact:f=!1,isDisabled:y=!1,hideDivider:D=!1,hideIndicator:U=!1,disableAnimation:z=!1,disableIndicatorAnimation:a=!1,itemStyles:K,...T}=i,[A,R]=(0,le.useState)(null),N=t||"div",q=ce(e),Y=(0,le.useMemo)(()=>Ne({variant:n,className:l}),[n,l]),j=[];Z.default.Children.map(s,B=>{var J;if(Z.default.isValidElement(B)&&typeof((J=B.props)==null?void 0:J.children)!="string"){let pe=Z.default.cloneElement(B,{hasChildItems:!1});j.push(pe)}else j.push(B)});let X={children:j,items:o},d={expandedKeys:u,defaultExpandedKeys:p,onExpandedChange:w},V={disabledKeys:v,selectedKeys:m,selectionMode:g,selectionBehavior:r,disallowEmptySelection:S,defaultSelectedKeys:h??p,onSelectionChange:$,...X,...d},F=ht(V);F.selectionManager.setFocusedKey=B=>{R(B)};let{accordionProps:ee}=mt({...X,...d},F,q),b=(0,le.useMemo)(()=>({focusedKey:A,state:F,motionProps:c,isCompact:f,isDisabled:y,hideDivider:D,hideIndicator:U,disableAnimation:z,disableIndicatorAnimation:a}),[F,A,f,y,U,D,z,a,c]),I=(0,Z.useCallback)((B={})=>({ref:q,className:Y,"data-orientation":"vertical",...L(ee,T,B)}),[]),fe=(0,Z.useCallback)((B,J)=>{B&&R(J)},[]);return{Component:N,context:b,classNames:Y,state:F,focusedKey:A,getBaseProps:I,disableAnimation:z,handleFocusChanged:fe,itemStyles:K}}var oe=k(Re(),1),Kt=ae((i,e)=>{let{Component:t,context:s,state:l,getBaseProps:o,disableAnimation:n,handleFocusChanged:c,itemStyles:u}=gt({ref:e,...i}),v=[...l.collection].map(m=>(0,oe.jsx)(dt,{item:m,onFocusChange:p=>c(p,m.key),...m.props,classNames:{...u,...m.props.classNames||{}}},m.key));return(0,oe.jsx)(t,{...o(),children:(0,oe.jsx)(it,{value:s,children:n?v:(0,oe.jsx)(_e,{children:v})})})});Kt.displayName="NextUI.Accordion";var Et=Kt;var Ot=et,Rt=Ot;export{Et as a,Rt as b};
