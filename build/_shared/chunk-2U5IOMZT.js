import{a as oe}from"/build/_shared/chunk-RCF6322T.js";import{g as re}from"/build/_shared/chunk-VRDZAOTH.js";import{$ as q,E as G,G as J,H as Q,K as T,L as f,M as V,V as X,Y,aa as Z,ga as $,ha as ee,ka as te,na as v,o as A,ta as d}from"/build/_shared/chunk-WQT5KMCO.js";import{a as R,b as xe}from"/build/_shared/chunk-QLU6BERC.js";import{f as E}from"/build/_shared/chunk-JEBMXGTI.js";var W=E(R(),1);function j(e=[]){let r=(0,W.useId)(),[l,i]=Q(r),a=(0,W.useCallback)(()=>{i(function*(){yield r,yield document.getElementById(r)?r:void 0})},[r,i]);return J(a,[r,a,...e]),l}function ae(e={}){let{description:r,errorMessage:l,validationState:i}=e,{labelProps:a,fieldProps:s}=oe(e),u=j([Boolean(r),Boolean(l),i]),c=j([Boolean(r),Boolean(l),i]);return s=f(s,{"aria-describedby":[u,c,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:a,fieldProps:s,descriptionProps:{id:u},errorMessageProps:{id:c}}}function se(e,r){let{inputElementType:l="input",isDisabled:i=!1,isRequired:a=!1,isReadOnly:s=!1,validationState:u,type:c="text",onChange:I=()=>{}}=e,{focusableProps:o}=Z(e,r),{labelProps:P,fieldProps:g,descriptionProps:y,errorMessageProps:p}=ae(e),C=V(e,{labelable:!0}),x={type:c,pattern:e.pattern};return{labelProps:P,inputProps:f(C,l==="input"&&x,{disabled:i,readOnly:s,required:a,"aria-required":a||void 0,"aria-invalid":u==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-readonly":s,value:e.value,defaultValue:e.value?void 0:e.defaultValue,onChange:B=>I(B.target.value),autoComplete:e.autoComplete,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,onCopy:e.onCopy,onCut:e.onCut,onPaste:e.onPaste,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate,onSelect:e.onSelect,onBeforeInput:e.onBeforeInput,onInput:e.onInput,...o,...g}),descriptionProps:y,errorMessageProps:p}}var ne=E(R(),1);function le(e){let[r,l]=ee(e,A.variantKeys),{ref:i,as:a,label:s,description:u,errorMessage:c,className:I,classNames:o,autoFocus:P,startContent:g,endContent:y,onClear:p,onChange:C,onValueChange:x,...B}=r,[h,M]=G(r.value,r.defaultValue,()=>{}),F=a||"div",N=v(o?.base,I,h?"is-filled":""),D=e.isMultiline,b=te(i),ue=()=>{M(void 0),b.current&&(b.current.value="",b.current.focus()),p?.()},{labelProps:de,inputProps:U,descriptionProps:ce,errorMessageProps:pe}=se({...e,inputElementType:D?"textarea":"input",value:h,onChange:T(x,M)},b),{isFocusVisible:me,isFocused:fe,focusProps:ve}=q({autoFocus:P,isTextInput:!0}),{isHovered:k,hoverProps:be}=Y({isDisabled:!!e?.isDisabled}),{focusProps:Pe,isFocusVisible:ge}=q(),{pressProps:Ce}=X({isDisabled:!!e?.isDisabled,onPress:ue}),S=r.validationState==="invalid",L=e.labelPlacement||"inside",H=!r.placeholder&&L!=="outside-left"&&!D,O=!!p||e.isClearable,he=!!s||!!u||!!c,Ie=L==="outside"||L==="outside-left",ye=L==="inside",w=!!g,m=(0,ne.useMemo)(()=>A({...l,isInvalid:S,isClearable:O,isLabelPlaceholder:H&&!w}),[...Object.values(l),S,O,H,w]);return{Component:F,classNames:o,domRef:b,label:s,description:u,startContent:g,endContent:y,labelPlacement:L,isClearable:O,isInvalid:S,shouldLabelBeOutside:Ie,shouldLabelBeInside:ye,errorMessage:c,getBaseProps:(t={})=>({className:m.base({class:N}),"data-focus-visible":d(me),"data-readonly":d(e.isReadOnly),"data-focus":d(fe),"data-hover":d(k),"data-required":d(e.isRequired),"data-invalid":d(S),"data-disabled":d(e.isDisabled),"data-has-elements":d(he),...t}),getLabelProps:(t={})=>({className:m.label({class:o?.label}),...de,...t}),getInputProps:(t={})=>({ref:b,className:m.input({class:v(o?.input,h?"is-filled":"")}),...f(ve,U,V(B,{labelable:!0}),t),onChange:T(U.onChange,C)}),getInputWrapperProps:(t={})=>({"data-hover":d(k),className:m.inputWrapper({class:v(o?.inputWrapper,h?"is-filled":"")}),onClick:K=>{var z;K.target===K.currentTarget&&((z=b.current)==null||z.focus())},...f(t,be),style:{cursor:"text",...t.style}}),getInnerWrapperProps:(t={})=>({...t,className:m.innerWrapper({class:v(o?.innerWrapper,t?.className)})}),getDescriptionProps:(t={})=>({...t,...ce,className:m.description({class:v(o?.description,t?.className)})}),getErrorMessageProps:(t={})=>({...t,...pe,className:m.errorMessage({class:v(o?.errorMessage,t?.className)})}),getClearButtonProps:(t={})=>({...t,role:"button",tabIndex:0,"data-focus-visible":d(ge),className:m.clearButton({class:v(o?.clearButton,t?.className)}),...f(Ce,Pe)})}}var _=E(R(),1),n=E(xe(),1),ie=$((e,r)=>{let{Component:l,label:i,description:a,isClearable:s,startContent:u,endContent:c,shouldLabelBeOutside:I,shouldLabelBeInside:o,errorMessage:P,getBaseProps:g,getLabelProps:y,getInputProps:p,getInnerWrapperProps:C,getInputWrapperProps:x,getDescriptionProps:B,getErrorMessageProps:h,getClearButtonProps:M}=le({ref:r,...e}),F=(0,n.jsx)("label",{...y(),children:i}),N=(0,_.useMemo)(()=>s?(0,n.jsx)("span",{...M(),children:c||(0,n.jsx)(re,{})}):c,[s,M]),D=(0,_.useMemo)(()=>u||N?(0,n.jsxs)("div",{...C(),children:[u,(0,n.jsx)("input",{...p()}),N]}):(0,n.jsx)("input",{...p()}),[u,N,p,C]);return(0,n.jsxs)(l,{...g(),children:[I?F:null,(0,n.jsxs)("div",{...x(),children:[o?F:null,D]}),P?(0,n.jsx)("div",{...h(),children:P}):a?(0,n.jsx)("div",{...B(),children:a}):null]})});ie.displayName="NextUI.Input";var Be=ie;export{Be as a};
