import{f as Pe,g as be,h as W,i as Oe}from"/build/_shared/chunk-5SF556RN.js";import{b as ve,c as Te}from"/build/_shared/chunk-3OEQ7K3T.js";import{E as re,I as te,L as D,M as se,V as le,W as ie,X as ne,Y as B,aa as ae,ca as pe,da as ue,ea as K,ga as ce,ha as fe,i as j,ja as me,na as de,oa as ge,ta as U,va as $e}from"/build/_shared/chunk-WQT5KMCO.js";import{a as C,b as qe}from"/build/_shared/chunk-QLU6BERC.js";import{f as y}from"/build/_shared/chunk-JEBMXGTI.js";var A=y(C(),1);var x=y(C(),1);function he(s){let[e,o]=re(s.isOpen,s.defaultOpen||!1,s.onOpenChange);return{isOpen:e,setOpen:o,open(){o(!0)},close(){o(!1)},toggle(){o(!e)}}}var je=1500,ye=500,N={},Be=0,k=!1,T=null,w=null;function De(s={}){let{delay:e=je,closeDelay:o=ye}=s,{isOpen:p,open:d,close:a}=he(s),t=(0,x.useMemo)(()=>`${++Be}`,[]),r=(0,x.useRef)(),$=()=>{N[t]=b},u=()=>{for(let l in N)l!==t&&(N[l](!0),delete N[l])},i=()=>{clearTimeout(r.current),r.current=null,u(),$(),k=!0,d(),T&&(clearTimeout(T),T=null),w&&(clearTimeout(w),w=null)},b=l=>{l||o<=0?(clearTimeout(r.current),r.current=null,a()):r.current||(r.current=setTimeout(()=>{r.current=null,a()},o)),T&&(clearTimeout(T),T=null),k&&(w&&clearTimeout(w),w=setTimeout(()=>{delete N[t],w=null,k=!1},Math.max(ye,o)))},v=()=>{u(),$(),!p&&!T&&!k?T=setTimeout(()=>{T=null,k=!0,i()},e):p||i()};return(0,x.useEffect)(()=>()=>{clearTimeout(r.current),N[t]&&delete N[t]},[t]),{isOpen:p,open:l=>{!l&&e>0&&!r.current?v():i()},close:b}}var E=y(C(),1);function Ne(s,e){let o=se(s,{labelable:!0}),{hoverProps:p}=B({onHoverStart:()=>e?.open(!0),onHoverEnd:()=>e?.close()});return{tooltipProps:D(o,p,{role:"tooltip"})}}function we(s,e,o){let{isDisabled:p,trigger:d}=s,a=te(),t=(0,E.useRef)(!1),r=(0,E.useRef)(!1),$=()=>{(t.current||r.current)&&e.open(r.current)},u=g=>{!t.current&&!r.current&&e.close(g)};(0,E.useEffect)(()=>{let g=R=>{o&&o.current&&R.key==="Escape"&&(R.stopPropagation(),e.close(!0))};if(e.isOpen)return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[o,e]);let i=()=>{d!=="focus"&&(ne()==="pointer"?t.current=!0:t.current=!1,$())},b=()=>{d!=="focus"&&(r.current=!1,t.current=!1,u())},v=()=>{r.current=!1,t.current=!1,u(!0)},l=()=>{ie()&&(r.current=!0,$())},c=()=>{r.current=!1,t.current=!1,u(!0)},{hoverProps:O}=B({isDisabled:p,onHoverStart:i,onHoverEnd:b}),{pressProps:I}=le({onPressStart:v}),{focusableProps:f}=ae({isDisabled:p,onFocus:l,onBlur:c},o);return{triggerProps:{"aria-describedby":e.isOpen?a:void 0,...D(f,O,I)},tooltipProps:{id:a}}}var P=y(C(),1);function Ce(s){let[e,o]=fe(s,j.variantKeys),{ref:p,as:d,isOpen:a,content:t,children:r,defaultOpen:$,onOpenChange:u,isDisabled:i,trigger:b,shouldFlip:v=!0,containerPadding:l=12,placement:c="top",delay:O=0,closeDelay:I=500,showArrow:f=!1,offset:g=7,crossOffset:R=0,isDismissable:Ae,shouldCloseOnBlur:Ie=!0,portalContainer:Se,isKeyboardDismissDisabled:Ve=!1,shouldCloseOnInteractOutside:ke,className:Ee,onClose:G,motionProps:Re,classNames:S,...J}=e,He=d||"div",m=De({delay:O,closeDelay:I,isDisabled:i,defaultOpen:$,onOpenChange:F=>{u?.(F),F||G?.()}}),H=(0,P.useRef)(null),V=(0,P.useRef)(null),Y=(0,A.useId)(),h=m.isOpen&&!i;(0,A.useImperativeHandle)(p,()=>me(V)),(0,A.useEffect)(()=>{a!==void 0&&a!==m.isOpen&&(a?m.open():m.close())},[a]);let{triggerProps:_,tooltipProps:Ye}=we({isDisabled:i,trigger:b},m,H),{tooltipProps:Q}=Ne({isOpen:h,...D(e,Ye)},m),{overlayProps:X,arrowProps:Z,placement:q}=pe({isOpen:h,targetRef:H,placement:be(c),overlayRef:V,offset:f?g+3:g,crossOffset:R,shouldFlip:v,containerPadding:l}),{overlayProps:ee}=ue({isOpen:h,onClose:m.close,isDismissable:Ae,shouldCloseOnBlur:Ie,isKeyboardDismissDisabled:Ve,shouldCloseOnInteractOutside:ke},V),M=(0,P.useMemo)(()=>j({...o}),[...Object.values(o)]),oe=de(Ee,S?.base),Me=(0,P.useCallback)((F={},_e=null)=>({...D(_,F),ref:$e(_e,H),"aria-describedby":h?Y:void 0,onPointerEnter:()=>m.open(),onPointerLeave:()=>m.isOpen&&m.close()}),[_,h,Y,m]),Fe=(0,P.useCallback)(()=>({ref:V,"data-open":U(h),"data-disabled":U(i),"data-placement":W(q,c),className:M.base({class:oe}),...D(Q,X,ee,J),id:Y}),[oe,ee,J,V,X,M,Y,Q]),Le=(0,P.useCallback)(()=>({className:M.arrow({class:S?.arrow}),"data-placement":W(q,c),...Z}),[Z,q,c,M,S]);return{Component:He,content:t,children:r,isOpen:h,triggerRef:H,triggerProps:_,showArrow:f,portalContainer:Se,placement:c,disableAnimation:s?.disableAnimation,isDisabled:i,motionProps:Re,getTriggerProps:Me,getTooltipProps:Fe,getArrowProps:Le}}var z=y(C(),1);var L=y(C(),1);var n=y(qe(),1),xe=ce((s,e)=>{let{Component:o,children:p,content:d,isOpen:a,portalContainer:t,placement:r,disableAnimation:$,motionProps:u,showArrow:i,getTriggerProps:b,getTooltipProps:v,getArrowProps:l}=Ce({ref:e,...s}),c;try{let f=L.Children.only(p);c=(0,L.cloneElement)(f,b(f.props,f.ref))}catch{c=(0,n.jsx)("span",{}),ge("Tooltip must have only one child node. Please, check your code.")}let O=(0,z.useMemo)(()=>i?(0,n.jsx)("span",{...l()}):null,[i,l]),I=(0,z.useMemo)(()=>{let{className:f,...g}=v();return(0,n.jsx)("div",{...g,children:(0,n.jsx)(ve.div,{animate:"enter",exit:"exit",initial:"exit",style:{...Pe(r)},variants:Oe.scaleSpring,...u,children:(0,n.jsxs)(o,{className:f,children:[d,O]})})})},[v,r,u,o,d,O]);return(0,n.jsxs)(n.Fragment,{children:[c,$&&a?(0,n.jsx)(K,{portalContainer:t,children:(0,n.jsxs)(o,{...v(),children:[d,O]})}):(0,n.jsx)(Te,{initial:!1,children:a?(0,n.jsx)(K,{portalContainer:t,children:I}):null})]})});xe.displayName="NextUI.Tooltip";var Ke=xe;export{Ke as a};
