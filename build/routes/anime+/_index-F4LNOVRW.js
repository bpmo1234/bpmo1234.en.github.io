import{a as G}from"/build/_shared/chunk-6IEH3Y73.js";import{a as j}from"/build/_shared/chunk-AN4HOKES.js";import{a as s}from"/build/_shared/chunk-NUWP7QIC.js";import{c as r}from"/build/_shared/chunk-FWNPCILQ.js";import"/build/_shared/chunk-QIV3LQ3I.js";import"/build/_shared/chunk-RHMBYA3G.js";import"/build/_shared/chunk-MTFSXZFZ.js";import{a as z}from"/build/_shared/chunk-56VXFNSV.js";import"/build/_shared/chunk-UIEN6MX3.js";import"/build/_shared/chunk-PVLFFDYO.js";import"/build/_shared/chunk-5ITNFNVW.js";import"/build/_shared/chunk-2U5IOMZT.js";import"/build/_shared/chunk-RCF6322T.js";import"/build/_shared/chunk-FHD6BXRZ.js";import{a as N}from"/build/_shared/chunk-HHWVOGW6.js";import"/build/_shared/chunk-S23KMKSF.js";import{a as b}from"/build/_shared/chunk-VMR2D5E2.js";import"/build/_shared/chunk-6XH6CZM3.js";import"/build/_shared/chunk-UUFKR7CL.js";import"/build/_shared/chunk-ODDNHQYY.js";import"/build/_shared/chunk-RA2CXU7U.js";import"/build/_shared/chunk-P5OZIZVO.js";import"/build/_shared/chunk-CEP3TN4Z.js";import"/build/_shared/chunk-5SF556RN.js";import"/build/_shared/chunk-HASDG25T.js";import"/build/_shared/chunk-VQ5EC5B2.js";import{b as y,c as E}from"/build/_shared/chunk-3OEQ7K3T.js";import"/build/_shared/chunk-J6UTVW47.js";import"/build/_shared/chunk-U3HIYESC.js";import"/build/_shared/chunk-KFQLBWY7.js";import"/build/_shared/chunk-5MV7UISD.js";import"/build/_shared/chunk-L54RSDJF.js";import"/build/_shared/chunk-Q4FXHGWO.js";import"/build/_shared/chunk-PV3FM54N.js";import"/build/_shared/chunk-7ZDGSIBA.js";import"/build/_shared/chunk-NO7IKHGB.js";import"/build/_shared/chunk-65A6DYIU.js";import"/build/_shared/chunk-TWHYYFCA.js";import"/build/_shared/chunk-RQG6T6UG.js";import"/build/_shared/chunk-KOFAMGV2.js";import"/build/_shared/chunk-FL5UVREB.js";import"/build/_shared/chunk-56WF7HCU.js";import"/build/_shared/chunk-GBMHDDOY.js";import"/build/_shared/chunk-AO66PQB5.js";import"/build/_shared/chunk-KITECXBJ.js";import"/build/_shared/chunk-B5P4CYPT.js";import"/build/_shared/chunk-TQANA533.js";import"/build/_shared/chunk-E3HN6VYL.js";import"/build/_shared/chunk-NXMX6MFX.js";import"/build/_shared/chunk-OZSVYI4Q.js";import"/build/_shared/chunk-J3ZU6SDT.js";import"/build/_shared/chunk-ADMPE4EY.js";import"/build/_shared/chunk-HXGDBLUY.js";import"/build/_shared/chunk-UWVAGYA2.js";import"/build/_shared/chunk-4LJTPU4C.js";import"/build/_shared/chunk-CQDTB6KU.js";import{a as C}from"/build/_shared/chunk-GYMQZE7X.js";import"/build/_shared/chunk-CKU4S6GJ.js";import"/build/_shared/chunk-VRDZAOTH.js";import"/build/_shared/chunk-WQT5KMCO.js";import"/build/_shared/chunk-HEMBAUA6.js";import{a as I}from"/build/_shared/chunk-DGVX6BYT.js";import"/build/_shared/chunk-TLKZEMLJ.js";import"/build/_shared/chunk-UE6UC7GV.js";import{b as M,d as S,t as x,x as P}from"/build/_shared/chunk-OT3RM5IB.js";import{a as V,b as T}from"/build/_shared/chunk-QLU6BERC.js";import{f as o}from"/build/_shared/chunk-JEBMXGTI.js";var e=o(V());var $=o(j());var w=o(z());var v=o(G());var t=o(T());var U=I(()=>[{title:"Sora - Anime"},{name:"description",content:"Discover anime in Sora"},{property:"og:url",content:"https://sorachill.vercel.app/anime"},{property:"og:title",content:"Sora - Anime"},{property:"og:description",content:"Discover anime in Sora"},{name:"twitter:title",content:"Sora - Anime"},{name:"twitter:description",content:"Discover anime in Sora"}]),Y={disableLayoutPadding:!0,miniTitle:()=>({title:"Anime",showImage:!1})},_=()=>{let{trending:a,popular:l,recentEpisodes:m}=x()||{},H=M(),p=S(),n=P(),d=N(),[u,k]=(0,e.useState)([]),[L,D]=(0,e.useState)(0),[A,R]=(0,e.useState)(0),[B,c]=(0,e.useState)(!0),[f,F]=(0,e.useState)(0),[g,O]=b();return(0,e.useEffect)(()=>{let i=()=>{R(window.innerHeight),D(window.scrollY)};return typeof window<"u"&&window.addEventListener("scroll",i),()=>{typeof window<"u"&&window.removeEventListener("scroll",i)}},[]),(0,e.useEffect)(()=>{!B||!g?.height||A+L-200<g?.height||(n.load(`/discover/anime?genres=${r[f]}`),c(!1))},[L,A,g?.height]),(0,e.useEffect)(()=>{if(n.data&&n.data.length===0){c(!1);return}n.data&&n.data.items&&(k(i=>i?[...i,n.data.items.results]:[n.data.items.results]),f<r.length-1?(F(f+1),c(!0)):c(!1))},[n.data]),(0,e.useEffect)(()=>{d==="loading"&&w.default.configure({showSpinner:!1}).start(),d==="idle"&&w.default.configure({showSpinner:!1}).done()},[d]),(0,t.jsxs)(y.div,{initial:{x:"-10%",opacity:0},animate:{x:"0",opacity:1},exit:{y:"-10%",opacity:0},transition:{duration:.3},ref:O,style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[a&&a.results&&a.results.length>0&&(0,t.jsx)(s,{listType:"slider-banner",items:a?.results}),(0,t.jsxs)("div",{className:"mt-9 flex w-full flex-col items-center justify-start px-3 sm:px-5",children:[l&&l.results&&l.results.length>0&&(0,t.jsx)(s,{items:l.results,itemsType:"anime",listName:"Popular Anime",listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>p("/anime/popular"),showMoreList:!0}),m&&m.results&&m.results.length>0&&(0,t.jsx)(s,{items:m.results,itemsType:"episode",listName:"Recent Episodes",listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>p("/anime/recent-episodes"),provider:"gogoanime",showMoreList:!0}),u&&u.length>0&&u.map((i,h)=>i&&i.length>0?(0,t.jsx)(s,{items:i,itemsType:"anime",listName:r[h],listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>p(`/discover/anime?genres=${r[h]}`),showMoreList:!0},h):null),(0,t.jsx)(E,{children:d==="loading"?(0,t.jsx)(C,{as:y.div,size:"lg",className:"mt-10",initial:{y:-40,opacity:0},animate:{y:0,opacity:1},exit:{y:-40,opacity:0},transition:{duration:.3}}):null})]})]},H.key)},J=_;export{J as default,Y as handle,U as meta};
