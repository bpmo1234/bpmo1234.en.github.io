import{a as E,b as k,c as z,d as B}from"/build/_shared/chunk-ESZN27YP.js";import{a as K}from"/build/_shared/chunk-6TVKIBKR.js";import"/build/_shared/chunk-UFQ7JC3I.js";import{b as N}from"/build/_shared/chunk-R4UGCNGU.js";import{a as $,b as C,c as D}from"/build/_shared/chunk-55NVTXCL.js";import{a as Q}from"/build/_shared/chunk-AN4HOKES.js";import"/build/_shared/chunk-6XH6CZM3.js";import"/build/_shared/chunk-UUFKR7CL.js";import"/build/_shared/chunk-ODDNHQYY.js";import{a as G}from"/build/_shared/chunk-RA2CXU7U.js";import"/build/_shared/chunk-CEP3TN4Z.js";import"/build/_shared/chunk-HASDG25T.js";import"/build/_shared/chunk-VQ5EC5B2.js";import{b as g,c as T}from"/build/_shared/chunk-3OEQ7K3T.js";import"/build/_shared/chunk-Q4FXHGWO.js";import{a as b}from"/build/_shared/chunk-TWHYYFCA.js";import"/build/_shared/chunk-KOFAMGV2.js";import{a as V}from"/build/_shared/chunk-FL5UVREB.js";import"/build/_shared/chunk-56WF7HCU.js";import"/build/_shared/chunk-GBMHDDOY.js";import"/build/_shared/chunk-KITECXBJ.js";import{a as _,b as L,d as P}from"/build/_shared/chunk-B5P4CYPT.js";import{b as J,c as S}from"/build/_shared/chunk-TQANA533.js";import"/build/_shared/chunk-E3HN6VYL.js";import"/build/_shared/chunk-OZSVYI4Q.js";import"/build/_shared/chunk-J3ZU6SDT.js";import"/build/_shared/chunk-ADMPE4EY.js";import"/build/_shared/chunk-HXGDBLUY.js";import"/build/_shared/chunk-UWVAGYA2.js";import"/build/_shared/chunk-4LJTPU4C.js";import"/build/_shared/chunk-CKU4S6GJ.js";import"/build/_shared/chunk-WQT5KMCO.js";import"/build/_shared/chunk-HEMBAUA6.js";import{a as w}from"/build/_shared/chunk-DGVX6BYT.js";import{b as I}from"/build/_shared/chunk-NYVQ56JW.js";import"/build/_shared/chunk-TLKZEMLJ.js";import"/build/_shared/chunk-UE6UC7GV.js";import{t as h,x as y}from"/build/_shared/chunk-OT3RM5IB.js";import{a as U,b as x}from"/build/_shared/chunk-QLU6BERC.js";import{f as p}from"/build/_shared/chunk-JEBMXGTI.js";var s=p(U());var X=p(Q());var A=p(G()),F=p(J());var Y=p(K());var e=p(x());var Z=w(({params:t,matches:d})=>{let f=d.find(u=>u.id==="routes/tv-shows+/$tvId_.season.$seasonId")?.data;if(!f?.seasonDetail)return[{title:"Missing Season"},{name:"description",content:`There is no season with the ID: ${t.seasonId}`}];let{detail:i,seasonDetail:r}=f,{name:c}=i||{};return[{title:`Sora - ${c} ${r?.name||""} - Videos`},{property:"og:url",content:`https://sorachill.vercel.app/tv-shows/${t.tvId}/season/${t.seasonId}/videos`},{property:"og:title",content:`Sora - ${c} ${r?.name||""} - Videos`},{name:"twitter:title",content:`Sora - ${c} ${r?.name||""} - Videos`}]}),q={breadcrumb:({match:t})=>(0,e.jsx)(I,{to:`/tv-shows/${t.params.tvId}/season/${t.params.seasonId}/videos`,children:"Videos"},`tv-shows-${t.params.tvId}-season-${t.params.seasonId}-videos`),miniTitle:({parentMatch:t})=>({title:`${t?.data?.detail?.name||t?.data?.detail?.original_name} - ${t?.data?.seasonDetail?.name}`,subtitle:"Videos",showImage:t?.data?.seasonDetail?.poster_path!==void 0,imageUrl:b.posterUrl(t?.data?.seasonDetail?.poster_path||"","w92")})},ee=()=>{let{videos:t}=h(),d=y(),f=V("(max-width: 650px)",{initializeWithValue:!1}),[i,r]=(0,s.useState)("trailer"),[c,u]=(0,s.useState)([]),[H,O]=(0,s.useState)(!1),[R,j]=(0,s.useState)({}),M=(0,s.useRef)(null),l=[{id:"trailer",activeVideo:"Trailer"},{id:"teaser",activeVideo:"Teaser"},{id:"clip",activeVideo:"Clip"},{id:"behind_the_scenes",activeVideo:"Behind the Scenes"},{id:"bloopers",activeVideo:"Bloopers"},{id:"featurette",activeVideo:"Featurette"},{id:"opening_credits",activeVideo:"Opening Credits"}];(0,s.useEffect)(()=>{if(t){let o=[],n=l.find(a=>a.id===i);o=t.results?.filter(a=>a.type===n?.activeVideo);let m=o.map(a=>a.key).join(",");m?d.load(`/api/youtube-video?id=${m}`):u([])}},[i,t]),(0,s.useEffect)(()=>{d.data&&d.data.youtubeVideo&&u(d.data.youtubeVideo)},[d.data]);let W=(o,n)=>{let m=l.find(a=>a.id===i);if(n.offset?.x>100)if(m?.id==="trailer")r("opening_credits");else{let a=l.findIndex(v=>v.id===i);r(l[a-1].id)}if(n.offset?.x<-100&&n.offset?.y>-50)if(m?.id==="opening_credits")r("trailer");else{let a=l.findIndex(v=>v.id===i);r(l[a+1].id)}};return(0,e.jsx)("div",{className:"mt-3 flex w-full max-w-[1920px] flex-col gap-x-0 gap-y-4 px-3 sm:flex-row sm:items-stretch sm:justify-center sm:gap-x-4 sm:gap-y-0 sm:px-3.5 xl:px-4 2xl:px-5",children:(0,e.jsxs)(E,{defaultValue:i,value:i,orientation:f?"horizontal":"vertical",onValueChange:o=>r(o),className:"w-full",children:[(0,e.jsx)(k,{children:l.map(o=>(0,e.jsxs)(z,{value:o.id,className:"relative",children:[(0,e.jsx)("h6",{className:"!m-0",children:o.activeVideo}),i===o.id?(0,e.jsx)(g.div,{className:"absolute overflow-hidden rounded-md bg-default-foreground data-[orientation=horizontal]:bottom-0 data-[orientation=vertical]:left-0 data-[orientation=horizontal]:h-1 data-[orientation=vertical]:h-1/2 data-[orientation=horizontal]:w-1/2 data-[orientation=vertical]:w-1",layoutId:"video-underline","data-orientation":f?"horizontal":"vertical",ref:M}):null]},o.id))}),(0,e.jsxs)($,{open:H,onOpenChange:O,children:[(0,e.jsx)(T,{mode:"wait",children:(0,e.jsx)(B,{value:i,children:(0,e.jsx)(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeInOut",duration:.3},drag:A.isMobile?"x":!1,dragConstraints:{left:0,right:0},dragElastic:.4,onDragEnd:W,dragDirectionLock:!0,children:(0,e.jsx)("div",{className:"grid w-full grid-cols-1 justify-items-center gap-4 lg:grid-cols-2 3xl:grid-cols-3 4xl:grid-cols-4",children:c?c.map(o=>(0,e.jsx)(C,{asChild:!0,children:(0,e.jsxs)(P,{isPressable:!0,isHoverable:!0,role:"figure",className:"w-[320px] hover:ring-2 hover:ring-primary",onPress:()=>{let n=t?.results?.find(m=>m.key===o.id);n&&j(n)},children:[(0,e.jsx)(_,{className:"shrink-0 grow-0 overflow-hidden p-0",children:(0,e.jsx)(S,{src:o?.snippet?.thumbnails?.medium?.url,width:320,height:180,alt:o?.snippet?.title,loading:"lazy",title:o?.snippet?.title,placeholder:"empty",options:{contentType:F.MimeType.WEBP},responsive:[{size:{width:320,height:180}}]})}),(0,e.jsxs)(L,{className:"flex flex-col items-start justify-start",children:[(0,e.jsx)("h6",{className:"!m-0 text-left font-semibold",children:o?.snippet?.title}),(0,e.jsx)("p",{className:"opacity-70",children:o?.snippet?.channelTitle})]})]})},o?.id)):null})})})}),(0,e.jsx)(D,{className:"overflow-hidden !p-0",children:(0,e.jsx)(N,{trailer:R})})]})]})})},te=ee;export{te as default,q as handle,Z as meta};
