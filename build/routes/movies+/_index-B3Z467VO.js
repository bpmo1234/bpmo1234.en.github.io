import{a as $}from"/build/_shared/chunk-6TVKIBKR.js";import"/build/_shared/chunk-UFQ7JC3I.js";import{a as z}from"/build/_shared/chunk-AN4HOKES.js";import{a as r}from"/build/_shared/chunk-NUWP7QIC.js";import"/build/_shared/chunk-FWNPCILQ.js";import"/build/_shared/chunk-QIV3LQ3I.js";import"/build/_shared/chunk-RHMBYA3G.js";import"/build/_shared/chunk-MTFSXZFZ.js";import{a as G}from"/build/_shared/chunk-56VXFNSV.js";import"/build/_shared/chunk-UIEN6MX3.js";import"/build/_shared/chunk-PVLFFDYO.js";import"/build/_shared/chunk-5ITNFNVW.js";import"/build/_shared/chunk-2U5IOMZT.js";import"/build/_shared/chunk-RCF6322T.js";import"/build/_shared/chunk-FHD6BXRZ.js";import{a as k}from"/build/_shared/chunk-HHWVOGW6.js";import"/build/_shared/chunk-S23KMKSF.js";import{a as H}from"/build/_shared/chunk-VMR2D5E2.js";import"/build/_shared/chunk-6XH6CZM3.js";import"/build/_shared/chunk-UUFKR7CL.js";import"/build/_shared/chunk-ODDNHQYY.js";import"/build/_shared/chunk-RA2CXU7U.js";import"/build/_shared/chunk-P5OZIZVO.js";import"/build/_shared/chunk-CEP3TN4Z.js";import"/build/_shared/chunk-5SF556RN.js";import"/build/_shared/chunk-HASDG25T.js";import"/build/_shared/chunk-VQ5EC5B2.js";import{b as h,c as N}from"/build/_shared/chunk-3OEQ7K3T.js";import"/build/_shared/chunk-J6UTVW47.js";import{a as O}from"/build/_shared/chunk-7T23YSQW.js";import"/build/_shared/chunk-U3HIYESC.js";import"/build/_shared/chunk-KFQLBWY7.js";import"/build/_shared/chunk-5MV7UISD.js";import"/build/_shared/chunk-L54RSDJF.js";import"/build/_shared/chunk-Q4FXHGWO.js";import"/build/_shared/chunk-PV3FM54N.js";import"/build/_shared/chunk-7ZDGSIBA.js";import"/build/_shared/chunk-NO7IKHGB.js";import"/build/_shared/chunk-65A6DYIU.js";import"/build/_shared/chunk-TWHYYFCA.js";import"/build/_shared/chunk-RQG6T6UG.js";import"/build/_shared/chunk-KOFAMGV2.js";import"/build/_shared/chunk-FL5UVREB.js";import"/build/_shared/chunk-56WF7HCU.js";import"/build/_shared/chunk-GBMHDDOY.js";import"/build/_shared/chunk-AO66PQB5.js";import"/build/_shared/chunk-KITECXBJ.js";import"/build/_shared/chunk-B5P4CYPT.js";import"/build/_shared/chunk-TQANA533.js";import"/build/_shared/chunk-E3HN6VYL.js";import"/build/_shared/chunk-NXMX6MFX.js";import"/build/_shared/chunk-OZSVYI4Q.js";import"/build/_shared/chunk-J3ZU6SDT.js";import"/build/_shared/chunk-ADMPE4EY.js";import"/build/_shared/chunk-HXGDBLUY.js";import"/build/_shared/chunk-UWVAGYA2.js";import"/build/_shared/chunk-4LJTPU4C.js";import"/build/_shared/chunk-CQDTB6KU.js";import{a as b}from"/build/_shared/chunk-GYMQZE7X.js";import"/build/_shared/chunk-CKU4S6GJ.js";import"/build/_shared/chunk-VRDZAOTH.js";import"/build/_shared/chunk-WQT5KMCO.js";import"/build/_shared/chunk-HEMBAUA6.js";import{a as D}from"/build/_shared/chunk-DGVX6BYT.js";import"/build/_shared/chunk-TLKZEMLJ.js";import"/build/_shared/chunk-UE6UC7GV.js";import{b as L,d as x,t as S,x as P}from"/build/_shared/chunk-OT3RM5IB.js";import{a as F,b as C}from"/build/_shared/chunk-QLU6BERC.js";import{f as n}from"/build/_shared/chunk-JEBMXGTI.js";var o=n(F());var U=n(z());var w=n(G());var Y=n($());var i=n(C());var J=D(()=>[{title:"Sora - Movies"},{name:"description",content:"Discover movies in Sora"},{property:"og:url",content:"https://sorachill.vercel.app/movies/"},{property:"og:title",content:"Sora - Movies"},{property:"og:description",content:"Discover movies in Sora"},{name:"twitter:title",content:"Sora - Movies"},{name:"twitter:description",content:"Discover movies in Sora"}]),K={disableLayoutPadding:!0,miniTitle:()=>({title:"Movies",showImage:!1})},Q=()=>{let{popular:j,topRated:p,upcoming:d,nowPlaying:g}=S(),t=O("root"),I=L(),a=x(),s=P(),l=k(),m=Object.entries(t?.genresMovie||{}).map(e=>({[e[0]]:e[1]})),[v,R]=(0,o.useState)([]),[M,A]=(0,o.useState)(0),[T,E]=(0,o.useState)(0),[_,c]=(0,o.useState)(!0),[f,B]=(0,o.useState)(0),[u,V]=H();return(0,o.useEffect)(()=>{let e=()=>{E(window.innerHeight),A(window.scrollY)};return typeof window<"u"&&window.addEventListener("scroll",e),()=>{typeof window<"u"&&window.removeEventListener("scroll",e)}},[]),(0,o.useEffect)(()=>{!_||!u?.height||T+M-200<u?.height||(s.load(`/discover/movies?with_genres=${Object.keys(m[f])[0]}`),c(!1))},[M,T,u?.height]),(0,o.useEffect)(()=>{if(s.data&&s.data.length===0){c(!1);return}s.data&&s.data.movies&&(R(e=>e?[...e,s.data.movies.items]:[s.data.movies.items]),f<m.length-1?(B(f+1),c(!0)):c(!1))},[s.data]),(0,o.useEffect)(()=>{l==="loading"&&w.default.configure({showSpinner:!1}).start(),l==="idle"&&w.default.configure({showSpinner:!1}).done()},[l]),(0,i.jsxs)(h.div,{initial:{x:"-10%",opacity:0},animate:{x:"0",opacity:1},exit:{y:"-10%",opacity:0},transition:{duration:.3},ref:V,style:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(r,{listType:"slider-banner",items:j.items,genresMovie:t?.genresMovie,genresTv:t?.genresTv}),(0,i.jsxs)("div",{className:"mt-9 flex w-full flex-col items-center justify-start px-3 sm:px-5",children:[p?.items&&p?.items?.length>0?(0,i.jsx)(r,{genresMovie:t?.genresMovie,genresTv:t?.genresTv,items:p.items,itemsType:"movie",listName:"Top Rated Movies",listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>a("/movies/top-rated"),showMoreList:!0}):null,g?.items&&g.items?.length>0?(0,i.jsx)(r,{genresMovie:t?.genresMovie,genresTv:t?.genresTv,items:g.items,itemsType:"movie",listName:"Now Playing Movies",listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>a("/movies/now-playing"),showMoreList:!0}):null,d?.items&&d.items?.length>0?(0,i.jsx)(r,{genresMovie:t?.genresMovie,genresTv:t?.genresTv,items:d.items,itemsType:"movie",listName:"Upcoming Movies",listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>a("/movies/upcoming"),showMoreList:!0}):null,v&&v.length>0&&v.map((e,y)=>e&&e.length>0?(0,i.jsx)(r,{genresMovie:t?.genresMovie,genresTv:t?.genresTv,items:e,itemsType:"movie",listName:Object.values(m[y])[0],listType:"slider-card",navigationButtons:!0,onClickViewMore:()=>a(`/discover/movies?with_genres=${Object.keys(m[y])[0]}`),showMoreList:!0},y):null),(0,i.jsx)(N,{children:l==="loading"?(0,i.jsx)(b,{as:h.div,size:"lg",className:"mt-10",initial:{y:-40,opacity:0},animate:{y:0,opacity:1},exit:{y:-40,opacity:0},transition:{duration:.3}}):null})]})]},I.key)},W=Q;export{W as default,K as handle,J as meta};
